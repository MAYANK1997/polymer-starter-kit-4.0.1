<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link rel="stylesheet" href="https://unpkg.com/ag-grid-community@29.3.3/styles/ag-grid.css">
    <link rel="stylesheet" href="https://unpkg.com/ag-grid-community@29.3.3/styles/ag-theme-alpine.css">
    <style>
       
        #myGrid {
            
			width:500px;
            background-color: black !important;
            --ag-foreground-color: white;
            --ag-background-color: black;
            --ag-header-foreground-color: white;
            --ag-row-background-color: black;
            --ag-border-color: white;
            --ag-grid-size: 4px;
            --ag-cell-horizontal-border: solid white 1px;
			font-size:12px !important;
        }
      
        /* Grid wrapper and viewport */
        .ag-root-wrapper,
        .ag-root,
        .ag-body-viewport,
        .ag-center-cols-clipper,
        .ag-center-cols-container {
            background-color: black !important;
        }
        /* Header row */
        .ag-header,
        .ag-header-cell {
            background-color: grey !important; /* Dark gray */
            color: white !important;
            border: 1px solid white !important;
			text-align: center !important;
			
    
        }
        /* Center-align and remove ellipsis in headers */
        .ag-header-cell-text {
            text-align: center !important;
            text-overflow: clip !important;
            white-space: normal !important;
            overflow: visible !important;
        }
        /* Grid cells */
        .ag-cell {
            background-color: black !important;
            color: white !important;
            border: 1px solid white !important;
          
            text-overflow: clip !important;
            white-space: normal !important;
            overflow: visible !important;
			font-size:12px !important;
        }
        /* Rows */
        .ag-row {
            background-color: black !important;
        }
      
        /* Floating filter inputs */
        .ag-floating-filter input,
        .ag-floating-filter select {
            background-color: white !important;
            color: black !important;
            border: 1px solid white !important;
            outline: none !important;
        }
        .ag-floating-filter input:focus,
        .ag-floating-filter select:focus {
            outline: none !important;
            border: 1px solid white !important;
            box-shadow: none !important;
        }
        .ag-floating-filter input::placeholder {
            color: #ccc !important;
        }
        /* Hide filter menus and icons */
        .ag-header-cell-menu-button,
        .ag-icon-menu {
            display: none !important;
        }
		
	    .ag-icon:before{
		
		    display: none !important;
		
		}
		
		.ag-icon:after, .ag-icon-filter:after{
		
		    display: none !important;
		
		}
		
		.ag-floating-filter-button-button{
		
		   display: none !important;
		
		}
		
        .ag-filter-toolpanel,
        .ag-filter,
        .ag-menu {
            background-color: black !important;
            color: white !important;
            border: 1px solid white !important;
        }
        .ag-menu-option {
            background-color: black !important;
            color: white !important;
        }
        .ag-menu-option:hover {
            background-color: #333 !important;
        }
       
     
        .ag-paging-panel {
            display: none !important;
        }
		
		.ag-sort-ascending-icon span{
		
		   display:none;
		
		}
		
		.ag-sort-descending-icon span{
		
		   display:none;
		
		}
		
		.ag-sort-ascending-icon:before{
		
		   content: '\2191';
		
		}
		
		.ag-sort-descending-icon:before{
		
		   content: '\2193';
		
		}
		
		.ag-wrapper:before{
		
		 display:none !important;
		
		}
       
      
        .positive-arrow::before {
            content: '\2191';
            color: green;
            margin-right: 5px;
        }
        .negative-arrow::before {
            content: '\2193';
            color: red;
            margin-right: 5px;
        }
    </style>
</head>
<body>
    <!-- Grid container -->
    <div id="myGrid" class="ag-theme-alpine"></div>
    <script src="https://unpkg.com/ag-grid-community/dist/ag-grid-community.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const gridDiv = document.querySelector('#myGrid');
			
			
			

            // Column definitions with search filters
            const columnDefs = [
                { headerName: 'Position Description', field: 'Symbol', sortable: true, filter: 'agTextColumnFilter', floatingFilter: true, suppressMenu: true, width: 150 },
				
                { headerName: 'ISIN', field: 'ISIN', sortable: true, filter: 'agTextColumnFilter', floatingFilter: true, suppressMenu: true },
                { headerName: "Today's Rate", field: 'TodaysRate', sortable: true, filter: 'agNumberColumnFilter', floatingFilter: true, suppressMenu: true },
                {
                    headerName: 'From Rate',
                    field: 'RateDeltaFromStart',
                    sortable: true,
                    filter: 'agNumberColumnFilter',
                    floatingFilter: true,
                    suppressMenu: true,
                    cellRenderer: params => {
                        const value = params.value;
                        if (value == null) return '';
                        const isPositive = value >= 0;
                        return `<span class="${isPositive ? 'positive-arrow' : 'negative-arrow'}">${value}</span>`;
                    },
                    cellStyle: params => {
                        const value = params.value;
                        if (value == null) return {};
                        return { color: value >= 0 ? 'green' : 'red' };
                    }
                },
                { headerName: 'Position Start Rate', field: 'PositionStartRate', sortable: true, filter: 'agNumberColumnFilter', floatingFilter: true, suppressMenu: true },
                { headerName: 'Position Start Date', field: 'PositionStartDate', sortable: true, filter: 'agDateColumnFilter', floatingFilter: true, suppressMenu: true },
                { headerName: 'Position High Rate', field: 'PositionHighRate', sortable: true, filter: 'agNumberColumnFilter', floatingFilter: true, suppressMenu: true },
                { headerName: 'High Rate Date', field: 'PositionHighRateDate', sortable: true, filter: 'agDateColumnFilter', floatingFilter: true, suppressMenu: true },
                { headerName: 'Position Low Rate', field: 'PositionLowRate', sortable: true, filter: 'agNumberColumnFilter', floatingFilter: true, suppressMenu: true },
                { headerName: 'Low Rate Date', field: 'PositionLowRateDate', sortable: true, filter: 'agDateColumnFilter', floatingFilter: true, suppressMenu: true },
                { headerName: '30D Avg', field: 'thirtyDAvgRate', sortable: true, filter: 'agNumberColumnFilter', floatingFilter: true, suppressMenu: true },
                { headerName: '60D Avg', field: 'sixtyDAvgRate', sortable: true, filter: 'agNumberColumnFilter', floatingFilter: true, suppressMenu: true },
                { headerName: '3 Month Avg', field: 'threeMonthAvgRate', sortable: true, filter: 'agNumberColumnFilter', floatingFilter: true, suppressMenu: true },
                { headerName: '6 Month Avg', field: 'sixMonthAvgRate', sortable: true, filter: 'agNumberColumnFilter', floatingFilter: true, suppressMenu: true },
            ];

            // Grid options
            const gridOptions = {
                columnDefs: columnDefs,
                rowData: [],
                pagination: false,
               
                defaultColDef: {
                    flex: 1,
                    minWidth: 150,
                    sortable: true,
                    resizable: true
                }
				
				
				
				
            };

          
            const gridApi = agGrid.createGrid(gridDiv, gridOptions);

          
            fetch('http://nycuapp01.biz.lodh.com:9002/mdm/api/borrowRatesSummary/2025-03-19')
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Failed to fetch data');
                    }
                    return response.json();
                })
                .then(data => {
          
                   
                    gridApi.setGridOption('rowData', data);
                    // Auto-size columns to fit content
                    gridApi.autoSizeAllColumns();
                })
                .catch(error => {
                    console.error('Error:', error);
                   
                });
        });
	
    </script>
</body>
</html>
