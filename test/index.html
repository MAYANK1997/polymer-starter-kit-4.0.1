if (buttonLabel === 'Fetch Issuer Details') {
  mutation.mutate(data, {
    onSuccess: async (validationResponse) => {
      setWcId(validationResponse.wcId);
      setButtonLabel('Search Issuer Holdings');

      // Fetch holdings & trade data
      const processRes = await fetch(`http://nycuapp03.biz.lodh.com:8787/wallcross/process/${validationResponse.wcId}`, {
        method: 'POST',
        credentials: 'include',
        headers: { 'Content-Type': 'application/json' },
      });
      const fullData = await processRes.json();

      setFetchedDetails(fullData); // ✅ include hgList and thList
      onClose(); // ✅ close this modal
      onHoldingsOpen(); // ✅ open IssuerHoldingsModal
    }
  });
} else {
  // If already fetched, just open IssuerHoldingsModal
  onClose();
  onHoldingsOpen();
}
