import { useState } from "react";
import { Checkbox } from "@chakra-ui/react";
import { VStack } from "@chakra-ui/react";

export default function TradeOptions() {
  const [selected, setSelected] = useState(["None"]);

  const options = ["Buy", "Sell", "Buy to Cover", "Sell Short", "None"];

  const handleChange = (option) => {
    if (option === "None") {
      setSelected(["None"]); // only None
    } else {
      let newSelected = selected.includes(option)
        ? selected.filter((item) => item !== option) // uncheck
        : [...selected.filter((item) => item !== "None"), option]; // check + remove None

      if (newSelected.length === 0) {
        newSelected = ["None"]; // fallback
      }
      setSelected(newSelected);
    }
  };

  return (
    <VStack align="start" spacing={2}>
      {options.map((option) => (
        <Checkbox.Root
          key={option}
          checked={selected.includes(option)}
          onCheckedChange={() => handleChange(option)}
          value={option}
        >
          <Checkbox.Control />
          <Checkbox.Label>{option}</Checkbox.Label>
        </Checkbox.Root>
      ))}
    </VStack>
  );
}
